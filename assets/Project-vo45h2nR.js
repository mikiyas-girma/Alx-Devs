import{m as P,u as C,a as t,r as m,n as k,o as S,p as w,j as e,L as _,q as R}from"./index-D8J0JSWy.js";import{C as A,a as M,b as E,d as x,e as G}from"./card-B3WNMt-U.js";import{S as a}from"./separator-DMUg3stq.js";const B=()=>{const{id:o}=P(),l=C(),r=t(s=>s.projects.currentProject);t(s=>s.userProjects.userProjects);const p=t(s=>s.userProjects.application_status),i=t(s=>s.userProjects.form_status),u=t(s=>s.projects.creator),j=t(s=>s.projects.status),f=t(s=>s.projects.error),[h,N]=m.useState({}),[c,v]=m.useState(""),{toast:n}=k();if(m.useEffect(()=>{(!r||r.id!==o)&&l(S(o)),r&&r.creator_id&&(N(r.roles),l(w(r.creator_id)))},[o,r,l]),j=="loading")return e.jsx("div",{children:"Loading..."});if(j=="failed")return e.jsx("div",{children:f});if(!r)return e.jsx("div",{children:"Project not found"});const b=s=>{v(s.target.value)},g=()=>{if(!c){n({title:"Error",description:"Please select a role",status:"error",duration:2e3,isClosable:!0,variant:"destructive"});return}try{l(R({project_id:r.id,role:c})),p==="succeeded"&&n({title:"Submitted Successfully",description:i,status:"success",duration:2e3,isClosable:!0,variant:"success"}),p==="failed"&&(n({title:"Not Submitted ",description:i,status:"error",duration:2e3,isClosable:!0,variant:"destructive"}),console.log(i))}catch(s){console.log(s)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"m-4",children:[e.jsxs(A,{className:"flex min-h-full",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(M,{className:"text-center",children:e.jsx(E,{children:r.title})}),e.jsx(x,{className:"",children:e.jsx("p",{className:"font-serif ",children:r.description})}),e.jsxs("div",{className:"ml-6 p-2 ",children:[u&&e.jsxs("p",{children:["Project Creator: ",u.name]}),r.proposal&&e.jsxs("p",{className:"",children:["Proposal Link:",e.jsxs("a",{className:"text-blue-900",href:r.proposal,target:"_blank",rel:"noopener noreferrer",children:[e.jsx("span",{children:" "})," ",r.proposal]})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("h2",{className:"text-lg font-bold mb-2",children:"Select a Role & Apply"}),e.jsx("div",{className:"flex flex-col",children:Object.keys(h).map(s=>e.jsx("div",{className:"mb-2",children:h[s].map((d,y)=>e.jsxs("label",{className:"inline-flex items-center mt-2",children:[e.jsx("input",{type:"radio",name:"role",value:d,checked:c===d,onChange:b,className:"form-radio"}),e.jsx("span",{className:"ml-2",children:d})]},y))},s))})]})}),e.jsx(G,{className:"justify-center",children:e.jsx("div",{className:"p-[3px] relative",children:e.jsx("button",{className:` mt-2 bg-gradient-to-r from-green-400 via-green-500 to-green-500 
                                    hover:bg-gradient-to-r hover:from-blue-500 hover:via-blue-600 hover:to-blue-600 
                                    text-white font-semibold py-2 px-4 border border-gray-400 rounded-md shadow`,type:"submit",onClick:g,children:"Apply Here"})})})]}),e.jsxs("div",{className:"flex-1 m-6 ",children:[e.jsx("p",{className:"text-green-600",children:"Already Joined Members:"}),e.jsx(a,{}),e.jsx("div",{className:"",children:e.jsxs(x,{className:"text-left p-4",children:[e.jsx("p",{className:"p-2 w-full",children:"Name: Mikiyas Girma"}),e.jsx(a,{}),e.jsx("p",{className:"p-2 w-full",children:"Name: Mikiyas Girma"}),e.jsx(a,{})]})}),e.jsx("p",{className:"pt-8 text-red-600",children:"Pending Requests:"}),e.jsx(a,{}),e.jsx("div",{className:"",children:e.jsxs(x,{className:"text-left p-4",children:[e.jsx("p",{className:"p-2 w-full",children:"Name: Mikiyas Girma"}),e.jsx(a,{}),e.jsx("p",{className:"p-2 w-full",children:"Name: Mikiyas Girma"}),e.jsx(a,{})]})})]})]}),e.jsx("div",{className:"text-center",children:e.jsx(_,{to:"/home",children:e.jsx("button",{className:` mt-2 bg-gradient-to-r from-blue-400 via-blue-500 to-violet-500 
                                    hover:bg-gradient-to-r hover:from-blue-500 hover:via-blue-600 hover:to-blue-600 
                                    text-white font-semibold py-2 px-4 border border-gray-400 rounded-md shadow`,children:"See Another Projects"})})})]})})};export{B as default};
