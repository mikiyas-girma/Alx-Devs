import{r as l,j as e,g as p,x as se,a5 as w,k as te,O as re,z as C,a6 as oe,C as le,F as ne,a7 as ie,T as ce,D as de,h as R,i as pe,R as me,a8 as _,$ as ue,X as xe,B as fe,m as ge,u as he,a as x,o as A,p as je,a9 as ve,aa as Ne}from"./index-C8KXYlFz.js";import{C as D}from"./card-CiDZWMkj.js";import{S as y}from"./separator-BscXfZq-.js";const Ae="w-16 h-16 border-4 border-t-4 border-gray-200 border-t-gray-600 rounded-full animate-spin",S=l.forwardRef((a,s)=>{const{className:t,...o}=a;return e.jsx("div",{ref:s,className:p(Ae,t),...o})});S.displayName="LoadingSpinner";var P="AlertDialog",[De,ze]=se(P,[w]),m=w(),E=a=>{const{__scopeAlertDialog:s,...t}=a,o=m(s);return e.jsx(me,{...o,...t,modal:!0})};E.displayName=P;var ye="AlertDialogTrigger",O=l.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...o}=a,n=m(t);return e.jsx(te,{...n,...o,ref:s})});O.displayName=ye;var we="AlertDialogPortal",T=a=>{const{__scopeAlertDialog:s,...t}=a,o=m(s);return e.jsx(pe,{...o,...t})};T.displayName=we;var Ce="AlertDialogOverlay",b=l.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...o}=a,n=m(t);return e.jsx(re,{...n,...o,ref:s})});b.displayName=Ce;var j="AlertDialogContent",[Re,_e]=De(j),$=l.forwardRef((a,s)=>{const{__scopeAlertDialog:t,children:o,...n}=a,i=m(t),u=l.useRef(null),f=C(s,u),d=l.useRef(null);return e.jsx(oe,{contentName:j,titleName:k,docsSlug:"alert-dialog",children:e.jsx(Re,{scope:t,cancelRef:d,children:e.jsxs(le,{role:"alertdialog",...i,...n,ref:f,onOpenAutoFocus:ne(n.onOpenAutoFocus,c=>{var g;c.preventDefault(),(g=d.current)==null||g.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[e.jsx(ie,{children:o}),e.jsx(Pe,{contentRef:u})]})})})});$.displayName=j;var k="AlertDialogTitle",I=l.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...o}=a,n=m(t);return e.jsx(ce,{...n,...o,ref:s})});I.displayName=k;var M="AlertDialogDescription",F=l.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...o}=a,n=m(t);return e.jsx(de,{...n,...o,ref:s})});F.displayName=M;var Se="AlertDialogAction",z=l.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...o}=a,n=m(t);return e.jsx(R,{...n,...o,ref:s})});z.displayName=Se;var L="AlertDialogCancel",q=l.forwardRef((a,s)=>{const{__scopeAlertDialog:t,...o}=a,{cancelRef:n}=_e(L,t),i=m(t),u=C(s,n);return e.jsx(R,{...i,...o,ref:u})});q.displayName=L;var Pe=({contentRef:a})=>{const s=`\`${j}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${j}\` by passing a \`${M}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${j}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return l.useEffect(()=>{var o;document.getElementById((o=a.current)==null?void 0:o.getAttribute("aria-describedby"))||console.warn(s)},[s,a]),null},Ee=E,Oe=O,Te=T,V=b,B=$,G=z,H=q,W=I,Y=F;const be=Ee,$e=Oe,ke=Te,X=l.forwardRef(({className:a,...s},t)=>e.jsx(V,{className:p("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t}));X.displayName=V.displayName;const J=l.forwardRef(({className:a,...s},t)=>e.jsxs(ke,{children:[e.jsx(X,{}),e.jsx(B,{ref:t,className:p("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...s})]}));J.displayName=B.displayName;const K=({className:a,...s})=>e.jsx("div",{className:p("flex flex-col space-y-2 text-center sm:text-left",a),...s});K.displayName="AlertDialogHeader";const Q=({className:a,...s})=>e.jsx("div",{className:p("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s});Q.displayName="AlertDialogFooter";const U=l.forwardRef(({className:a,...s},t)=>e.jsx(W,{ref:t,className:p("text-lg font-semibold",a),...s}));U.displayName=W.displayName;const Z=l.forwardRef(({className:a,...s},t)=>e.jsx(Y,{ref:t,className:p("text-sm text-muted-foreground",a),...s}));Z.displayName=Y.displayName;const ee=l.forwardRef(({className:a,...s},t)=>e.jsx(G,{ref:t,className:p(_(),a),...s}));ee.displayName=G.displayName;const ae=l.forwardRef(({className:a,...s},t)=>e.jsx(H,{ref:t,className:p(_({variant:"outline"}),"mt-2 sm:mt-0",a),...s}));ae.displayName=H.displayName;const v=({iconType:a,message:s,value:t,onConfirm:o})=>{const[n,i]=l.useState(!1),[u,f]=l.useState(null),d=r=>{f(r),i(!0)},c=()=>{o(u),i(!1)},g=()=>{i(!1)};return e.jsxs(e.Fragment,{children:[a==="check"?e.jsx(ue,{size:24,className:"cursor-pointer mx-2 text-green-500 hover:text-green-700",onClick:()=>d(t)}):a==="x"?e.jsx(xe,{size:24,className:"cursor-pointer mx-2 text-red-500 hover:text-red-700",onClick:()=>d(t)}):a==="button"?e.jsx(fe,{variant:"destructive",onClick:()=>d(t),children:"Close Project"}):null,e.jsxs(be,{open:n,onOpenChange:i,children:[e.jsx($e,{}),e.jsxs(J,{children:[e.jsx(K,{children:e.jsx(U,{children:"Confirmation"})}),e.jsx(Z,{children:s}),e.jsxs(Q,{children:[e.jsx(ae,{onClick:g,children:"Cancel"}),e.jsx(ee,{onClick:c,children:"Confirm"})]})]})]})]})},Le=()=>{const{id:a}=ge(),s=he();x(r=>r.user.loggeduser);const t=x(r=>r.projects.currentProject),o=x(r=>r.team.team),n=x(r=>r.team.team_status);x(r=>r.team.team_error),x(r=>r.projects.creator);const i=x(r=>r.projects.status),u=x(r=>r.projects.error),f=o.some(r=>r.status=="pending"&&r.role!=="Owner"),d=o.some(r=>r.status=="approved"&&r.role!=="Owner");if(l.useEffect(()=>{s(A(a)),(!t||t.id!==a)&&s(je(a))},[a,t,s]),l.useEffect(()=>{n==="idle"&&s(A(a))},[n,s,a]),i=="loading")return e.jsx("div",{children:"Loading..."});if(i=="failed")return e.jsx("div",{children:u});if(!t)return e.jsx("div",{children:e.jsx(S,{className:"m-auto"})});const c=r=>{const h=r[0],N=r[1];N==="approved"?s(ve(h)):N==="rejected"&&s(Ne(h))},g=r=>{console.log(r)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"sm:w-full ",children:e.jsx(D,{className:"min-h-screen m-auto text-center",children:e.jsx("div",{className:" ",children:e.jsxs("div",{className:"m-auto sm:w-3/4 lg:w-3/4 lg:p-12 rounded-lg",children:[e.jsxs(D,{className:"m-2 p-4 md:p-2",children:[e.jsx("div",{className:"p-2 text-[#03C04A] ",children:e.jsx("p",{className:"md:text-xl text-center",children:t.title})}),e.jsx("div",{children:e.jsx("p",{className:"font-serif p-2 md:px-4 text-left m-auto lg:w-2/3",children:t.description})}),e.jsxs("div",{className:"lg:w-2/3 m-auto",children:[d||f?e.jsx("div",{className:"font-bold m-2",children:e.jsx("p",{className:"m-2",children:"Applicants "})}):e.jsx("div",{className:"font-bold m-2",children:e.jsx("p",{className:"m-2",children:"No applicants"})}),e.jsxs("div",{className:"flex flex-col",children:[f&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-bold text-yellow-400 p-2",children:"Pending requests"}),o.map((r,h)=>e.jsx("div",{className:"flex",children:r.status=="pending"&&r.role!=="Owner"&&e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex",children:[e.jsx("p",{className:" w-full text-left",children:r.user.name}),e.jsx("p",{className:" w-full text-left",children:r.role}),e.jsx("p",{className:" text-yellow-500 w-full text-left",children:r.status}),e.jsx("div",{className:"m-0",children:e.jsx(v,{iconType:"check",message:"Are you sure you want to approve this applicant?",onConfirm:c,value:[r.id,"approved"]})}),e.jsx("div",{className:"m-0",children:e.jsx(v,{iconType:"x",message:`Are you sure you want to reject this applicant?
                                                                                     this will remove the applicant from the team permanently`,onConfirm:c,value:[r.id,"rejected"]})})]}),e.jsx(y,{className:"mb-2"})]})},h))]}),d&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"mt-2 font-bold text-green-400",children:"Approved requests"}),o.map((r,h)=>e.jsx("div",{className:"flex",children:r.status=="approved"&&r.role!=="Owner"&&e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex m-2",children:[e.jsx("p",{className:" w-full text-left",children:r.user.name}),e.jsx("p",{className:" w-full text-left",children:r.role}),e.jsx("p",{className:" text-green-400 w-full text-left",children:r.status}),e.jsx("div",{children:e.jsx(v,{iconType:"x",message:`Are you sure you want to remove this member from the team?
                                                                                     this will remove the member from the team permanently`,className:" mx-2 text-red-500 hover:text-red-700",onConfirm:c,value:[r.id,"rejected"]})})]}),e.jsx(y,{})]})},h))]})]})]})]}),e.jsx("div",{className:"m-2 p-4",children:e.jsx("div",{children:e.jsx(v,{iconType:"button",message:`Are you sure you want to close this project?
                                                 this will close the application form`,value:t.id,onConfirm:g})})})]})})})})})};export{Le as default};
