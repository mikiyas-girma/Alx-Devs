import{u,a as c,r as f,f as N,a3 as v,j as e,B as r,L as w,a4 as g,a5 as y,o as C}from"./index-Bst-H_iW.js";import"./label-yPpTUMVX.js";import"./textarea-DPjqyN4-.js";import{C as i,d as k}from"./card-BitpKE1c.js";import{S as h}from"./separator-BSbUJtqc.js";const T=()=>{const l=u(),a=c(s=>s.user.loggeduser),n=c(s=>s.projects.projects),o=c(s=>s.projects.myProjects),d=c(s=>s.team.team),p=c(s=>s.projects.status);c(s=>s.projects.error),f.useEffect(()=>{p==="idle"&&l(N())},[p,l]),f.useEffect(()=>{const s=a==null?void 0:a.id;n.length>0&&s&&l(v(s))},[n,a==null?void 0:a.id,l]);const j=s=>{console.log(s.target.value);const t=s.target.value.split(",")[0],x=s.target.value.split(",")[1];x==="approved"?l(g(t)):x==="rejected"&&(console.log("rejecting"),l(y(t)))},m=s=>{const t=s.target.value;l(C(t))};return e.jsx("div",{className:"m-auto w-96 sm:w-full",children:e.jsxs(i,{className:"min-h-96 flex flex-col sm:flex-row sm:m-4",children:[e.jsxs("div",{className:"flex-1",children:[o.map((s,t)=>e.jsxs(i,{className:"m-4 p-2",children:[e.jsx("div",{children:e.jsx("p",{children:s.title})}),e.jsx("div",{children:e.jsx("p",{className:"font-serif",children:s.description})}),e.jsx(r,{className:"mt-2",variant:"outline",value:s.id,onClick:m,children:"See Team Members"})]},t)),o.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx("p",{className:"font-serif font-light tracking-wider",children:"You have not created any projects yet"}),e.jsx(r,{variant:"outline",className:"m-2",children:e.jsx(w,{to:"/create_project",children:"Create Project"})})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-center w-full font-bold",children:"Team Members"}),e.jsx(i,{className:"m-4 p-2",children:e.jsx(k,{className:"text-left p-4",children:d.map((s,t)=>e.jsxs("div",{children:[s.status=="approved"&&s.role!=="Owner"&&e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex",children:[e.jsx("p",{className:"p-2 m-2 w-full",children:s.user.name}),e.jsx("p",{className:"p-2 m-2 w-full",children:s.role}),e.jsx("p",{className:"p-2 m-2 text-green-500 w-full",children:s.status}),e.jsx(r,{className:"px-2 m-2 bg-red-500 w-full",value:[s.id,"rejected"],onClick:j,children:"Reject"})]}),e.jsx(h,{})]}),(s.status=="pending"||s.status=="rejected"&&s.role!=="Owner")&&e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex",children:[e.jsx("p",{className:"p-2 m-2 w-full",children:s.user.name}),e.jsx("p",{className:"p-2 m-2 w-full",children:s.role}),e.jsx("p",{className:"p-2 m-2 text-yellow-400 w-full",children:s.status}),e.jsx(r,{className:"px-2 m-2 w-full",value:[s.id,"approved"],onClick:j,children:"Approve"})]}),e.jsx(h,{})]}),d.length<=1&&e.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:e.jsx("p",{className:"font-serif font-light tracking-wider",children:"No applicants yet"})})]},t))})})]})]})})};export{T as default};
